<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Editor de Rangos Preflop NL5 - 9MAX</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Bootstrap -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <style>
    :root {
      --bg-main: #020617;
      --bg-panel: #020617;
      --bg-panel-soft: #020617;
      --border-soft: #1f2937;
      --accent: #3b82f6;
      --accent-soft: #60a5fa;
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;

      --fold: #991b1b;
      --open: #1d4ed8;
      --call: #b45309;
      --threebet: #15803d;
      --fourbet: #047857;
    }

    * {
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at top, #020617 0, #000 70%);
      color: var(--text-main);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
    }

    .app-shell {
      max-width: 1220px;
      margin: 0 auto;
      padding: 1.75rem 1.25rem 3rem;
    }

    .navbar-custom {
      background: linear-gradient(90deg, #020617, #111827);
      border-bottom: 1px solid rgba(148, 163, 184, 0.35);
    }

    .navbar-custom a {
      font-size: 0.8rem;
    }

    .badge-legend {
      width: 18px;
      height: 18px;
      border-radius: 6px;
      display: inline-block;
      margin-right: 6px;
    }

    .range-grid {
      display: grid;
      grid-template-columns: repeat(13, minmax(36px, 1fr));
      gap: 4px;
    }

    .range-cell {
      font-size: 0.78rem;
      font-weight: 500;
      padding: 5px 3px;
      border-radius: 6px;
      border: 1px solid rgba(15, 23, 42, 0.8);
      text-align: center;
      cursor: pointer;
      user-select: none;
      transition: transform 0.06s ease, box-shadow 0.06s ease,
        border-color 0.06s ease, background 0.06s ease;
      background: #020617;
      color: #e5e7eb;
    }

    .range-cell:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 10px rgba(59, 130, 246, 0.4);
      border-color: rgba(59, 130, 246, 0.7);
      z-index: 2;
    }

    .range-cell:active {
      transform: translateY(0);
      box-shadow: 0 0 4px rgba(59, 130, 246, 0.5);
    }

    /* Colores por acción */
    .action-fold {
      background: var(--fold);
      color: #fee2e2;
    }

    .action-open {
      background: var(--open);
      color: #eff6ff;
    }

    .action-call {
      background: var(--call);
      color: #fffbeb;
    }

    .action-3bet {
      background: var(--threebet);
      color: #ecfdf5;
    }

    .action-4bet {
      background: var(--fourbet);
      color: #ecfdf5;
    }

    .card-panel {
      background: var(--bg-panel-soft);
      border-radius: 1rem;
      border: 1px solid var(--border-soft);
    }

    textarea#jsonOutput {
      font-family: "Fira Code", Menlo, Monaco, Consolas, "Courier New",
        monospace;
      font-size: 0.75rem;
      background: #020617;
      color: #e5e7eb;
    }

    .small-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: var(--text-muted);
    }

    .form-select,
    .form-control {
      background-color: #020617;
      border-color: #1f2937;
      color: var(--text-main);
      font-size: 0.9rem;
    }

    .form-select:focus,
    .form-control:focus {
      background-color: #020617;
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.5);
      color: var(--text-main);
    }

    .helper-text {
      font-size: 0.78rem;
      color: var(--text-muted);
    }

    .legend-text {
      font-size: 0.78rem;
      color: var(--text-main);
    }

    @media (max-width: 992px) {
      .app-shell {
        padding-inline: 0.9rem;
      }
    }
  </style>
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar navbar-custom mb-4">
    <div
      class="container-fluid d-flex justify-content-between align-items-center"
    >
      <span class="navbar-text small text-secondary">
        Editor visual de rangos · NL5 9MAX
      </span>
        <a href="asistente.html" 
   class="btn px-4 py-2 mb-3"
   style="background: linear-gradient(90deg,#4e54c8,#8f94fb); border:none; color:white; border-radius:40px;">
   ✏️ Asistente preflop
</a>
    </div>
  </nav>


  <div class="app-shell">
    <div class="row g-3">
      <!-- Panel izquierdo -->
      <div class="col-12 col-lg-4">
        <div class="card-panel mb-3">
          <div
            class="border-bottom border-secondary px-3 py-2 d-flex justify-content-between align-items-center"
          >
            <div class="small text-uppercase text-secondary fw-semibold">
              Configuración del spot
            </div>
            <span class="badge bg-dark border border-secondary text-secondary">
              JSON ↔ Editor
            </span>
          </div>

          <div class="p-3">
            <!-- Hero -->
            <div class="mb-3">
              <label for="heroPosition" class="form-label small-label">
                Tu posición (Hero)
              </label>
              <select
                id="heroPosition"
                class="form-select form-select-sm"
              >
                <option value="">– Elegí posición –</option>
                <!-- Las opciones se rellenan desde editor-rangos.js -->
              </select>
            </div>

            <!-- Tipo de spot -->
            <div class="mb-3">
              <label for="spotType" class="form-label small-label">
                Tipo de spot
              </label>
              <select
                id="spotType"
                class="form-select form-select-sm"
              >
                <option value="">– Elegí tipo de spot –</option>
                <!-- OJO:
                     estos values deben coincidir con SPOT_TYPES en editor-rangos.js.
                     Si en tu JS ya funcionan otros values, mantené los tuyos. -->
                <option value="firstIn">
                  First In (pozo sin abrir: OR / Limp)
                </option>
                <option value="overLimp">
                  Overlimp (limp tras limpers / IsoRaise)
                </option>
                <option value="vsOpen">
                  Vs Open Raise (call / 3bet)
                </option>
                <option value="vs3bet">
                  Vs 3bet (call / 4bet)
                </option>
              </select>
            </div>

            <!-- Villano -->
            <div class="mb-3">
              <label for="villainPosition" class="form-label small-label">
                Posición del villano
              </label>
              <select
                id="villainPosition"
                class="form-select form-select-sm"
                disabled
              >
                <option value="">– Sin villano –</option>
                <!-- Se rellena igual que hero -->
              </select>
              <p class="helper-text mt-1 mb-0">
                Solo se usa en spots <strong>Vs Open</strong> o
                <strong>Vs 3bet</strong>.
              </p>
            </div>

            <hr class="border-secondary" />

            <!-- Leyenda -->
            <div class="mb-2">
              <span class="small-label">Leyenda de acciones</span>
            </div>
            <ul class="list-unstyled mb-2">
              <li class="d-flex align-items-center mb-1">
                <span
                  class="badge-legend action-fold border border-dark"
                ></span>
                <span class="legend-text">FOLD (no guardado en JSON)</span>
              </li>
              <li class="d-flex align-items-center mb-1">
                <span
                  class="badge-legend action-open border border-dark"
                ></span>
                <span class="legend-text">OPEN RAISE (First In)</span>
              </li>
              <li class="d-flex align-items-center mb-1">
                <span
                  class="badge-legend action-call border border-dark"
                ></span>
                <span class="legend-text">CALL / Limp / Overlimp</span>
              </li>
              <li class="d-flex align-items-center mb-1">
                <span
                  class="badge-legend action-3bet border border-dark"
                ></span>
                <span class="legend-text">3BET vs OR / IsoRaise</span>
              </li>
              <li class="d-flex align-items-center mb-1">
                <span
                  class="badge-legend action-4bet border border-dark"
                ></span>
                <span class="legend-text">4BET vs 3bet</span>
              </li>
            </ul>

            <p class="helper-text mb-0">
              1) Elegí posición y tipo de spot.<br />
              2) Si es vs Open / vs 3bet, elegí la posición del villano.<br />
              3) Hacé clic en el tablero para marcar la acción de cada mano.
            </p>
          </div>
        </div>

        <!-- Panel JSON -->
        <div class="card-panel">
          <div class="border-bottom border-secondary px-3 py-2">
            <span class="small text-uppercase text-secondary fw-semibold">
              Exportar / inspeccionar JSON
            </span>
          </div>
          <div class="p-3">
            <label for="jsonOutput" class="form-label small-label mb-1">
              JSON que comparten el editor y el asistente
            </label>
            <textarea
              id="jsonOutput"
              class="form-control"
              rows="10"
              readonly
            ></textarea>
            <div class="d-flex gap-2 mt-2">
              <button
                id="btnCopyJson"
                class="btn btn-sm btn-outline-light"
                type="button"
              >
                Copiar JSON
              </button>
              <button
                id="btnDownloadJson"
                class="btn btn-sm btn-outline-info"
                type="button"
              >
                Descargar JSON
              </button>
            </div>
            <p class="helper-text mt-2 mb-0">
              El contenido también se guarda en
              <code>localStorage</code>, así el asistente puede leer la versión
              editada sin tocar el archivo original.
            </p>
          </div>
        </div>
      </div>

      <!-- Tablero de manos -->
      <div class="col-12 col-lg-8">
        <div class="card-panel h-100">
          <div
            class="border-bottom border-secondary px-3 py-2 d-flex justify-content-between align-items-center flex-wrap gap-2"
          >
            <div class="small text-uppercase text-secondary fw-semibold">
              Tablero de manos
            </div>
            <div class="helper-text">
              First In: FOLD → OR → LIMP &nbsp;·&nbsp;
              Overlimp: FOLD → OL → ISO &nbsp;·&nbsp;
              Vs Open: FOLD → CALL → 3BET &nbsp;·&nbsp;
              Vs 3bet: FOLD → CALL → 4BET
            </div>
          </div>
          <div class="p-3">
            <div id="rangeGrid" class="range-grid"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Lógica del editor (la que ya tenés funcionando) -->
  <script src="js/editor-rangos.js"></script>
</body>
</html>




